{"version":3,"sources":["CemendationContext.js","components/DictDrawerContent.js","Header.js","components/MainInputBox.js","components/MainBtnGroup.js","components/ResultText.js","MainBody.js","Footer.js","App.js","reportWebVitals.js","index.js"],"names":["CemendationContext","React","createContext","CemendationContextProvider","props","useState","version","dict","dictionary","setDictionary","text","setText","rawDict","setRawDict","result","setResult","active","setActive","useEffect","length","setVersion","setDict","lines","split","forEach","line","find","replace","remark","push","fetch","then","res","Provider","value","children","useStyles","makeStyles","theme","drawerContainer","minWidth","width","padding","textarea","height","DictDrawerContent","classes","useContext","useFilePicker","accept","multiple","fileContent","openFileSelector","loading","content","Container","className","LinearProgress","onChange","e","target","placeholder","Button","variant","onClick","root","flexGrow","background","color","toolbar","display","flexDirection","justifyContent","alignItems","menuButton","marginRight","spacing","title","RegionTabs","withStyles","borderBottom","minHeight","indicator","backgroundColor","Tabs","RegionTab","textTransform","fontWeight","fontSize","opacity","selected","wrapper","borderRadius","Tab","disableRipple","Header","open","setOpen","toggleDrawer","event","type","key","AppBar","position","Toolbar","Typography","v","label","SwipeableDrawer","anchor","onClose","onOpen","breakpoints","down","MainInputBox","MainBtnGroup","Tooltip","IconButton","texts","highlighted","checkPair","pairIdx","idx","j","splice","clusters","tmpCluster","JSON","parse","stringify","slice","c","Create","navigator","clipboard","writeText","map","join","FileCopy","Snackbar","autoHideDuration","message","resultContainer","border","textAlign","font","fontFamily","wordBreak","appearance","cursor","ResultText","cluster","classNames","handleClick","gridContainer","marginBottom","MainBody","Grid","container","item","xs","md","bottom","marginTop","showcase","changeIcon","margin","Footer","choose","txt","style","styles","cookieBannerStyles","buttonMessage","dismissOnScroll","banner","backgroundSize","button","lineHeight","right","link","textDecoration","createMuiTheme","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactGA","initialize","pageview","window","location","pathname","search","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f5a765e4.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\n\nconst CemendationContext = React.createContext()\n\nexport const CemendationContextProvider = (props) => {\n  const [dictionary, setDictionary] = useState({version: \"hk\", dict: []})\n  const [text, setText] = useState(\"\")\n  const [rawDict, setRawDict] = useState(\"\")\n  const [result, setResult] = useState([])\n  const [active, setActive] = useState(-1)\n\n  useEffect(() => {\n    if ( dictionary.dict.length === 0 )\n      setVersion(dictionary.version)\n  }, [dictionary.version])\n\n  const setDict = ( rawDict, version ) => {\n    setRawDict(rawDict)\n    const lines = rawDict.split(\"\\n\")\n    const dict = []\n    lines.forEach ( line => {\n      if ( line === '' ) return\n      const [find, replace, remark] = line.split('|')\n      dict.push( {find, replace, remark} )\n    })\n    setDictionary({dict, version})\n  }\n\n  const setVersion = ( version ) => {\n    if ( version === 'self' && version === dictionary.version ) return\n    if ( version !== 'hk' ) version = \"hk\" // TODO: Add other vocab\n    fetch(`${version}-list.txt`)\n      .then(res => res.text())\n      .then(\n        (result) => {\n          setDict(result, version)\n        }\n      )\n  }\n\n  return (\n    <CemendationContext.Provider value={\n      {dictionary, setVersion, text, setText, result, setResult, active, setActive, rawDict, setDict}\n    }>\n      {props.children}\n    </CemendationContext.Provider>\n  )\n}\n\nexport default CemendationContext\n","import React, { useContext, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  Button,\n  Container,\n  LinearProgress\n} from '@material-ui/core'\nimport { useFilePicker } from 'use-file-picker'\nimport CemendationContext from '../CemendationContext'\n\nconst DictDrawerContent = () => {\n  const classes = useStyles()\n  const {rawDict, setDict} = useContext (CemendationContext)\n  const [fileContent, errors, openFileSelector, loading] = useFilePicker({\n    accept: ['.txt'],\n    multiple: false\n  })\n\n  useEffect (() => {\n    if ( fileContent[0] ) {\n      setDict(fileContent[0].content, 'self')\n    }\n  }, [fileContent])\n\n  return (\n    <Container className={classes.drawerContainer}>\n      <h3>字表：</h3>\n      <div>\n        {loading ? <LinearProgress /> : null}\n        <textarea\n          value={rawDict}\n          onChange={e => setDict(e.target.value, 'self')}\n          className={classes.textarea}\n          placeholder={\"用法：\\n一行行輸入要編校的詞語、置換成的詞語及簡單備考\\n分別以「|」( Shift + \\\\ ) 分隔\\n\\n例子：\\n滄海一栗|滄海一粟|大海裏的一粒穀子。比喻非常渺小\"}\n        />\n      </div>\n      <Button variant='contained' onClick={openFileSelector}>上傳檔案</Button>\n    </Container>\n  )\n}\n\nconst useStyles = makeStyles(theme => ({\n  drawerContainer: {\n    minWidth: '200px',\n    width: '40vw',\n    padding: '0 5%'\n  },\n  textarea: {\n    width: '99%',\n    height: '80vh'\n  }\n}))\n\nexport default DictDrawerContent","import React, { useState, useContext } from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport {\n  AppBar,\n  SwipeableDrawer,\n  Tab,\n  Tabs,\n  Toolbar,\n  Typography\n} from '@material-ui/core'\nimport CemendationContext from './CemendationContext'\nimport DictDrawerContent from './components/DictDrawerContent'\n\nconst Header = () => {\n  const classes = useStyles()\n  const { dictionary: { version }, setVersion } = useContext(CemendationContext)\n  const [open, setOpen] = useState(false)\n  const toggleDrawer = ( open ) => ( event ) => {\n    if ( event && event.type === 'keydown' && ( event.key === 'Tab' || event.key === 'Shift' )) {\n      return\n    }\n    setOpen(open)\n  }\n\n  return (\n    <AppBar position=\"sticky\" className={classes.root}>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          校讎足下\n        </Typography>\n        <RegionTabs onChange={(e, v) => setVersion(v)} value={version}>\n          <RegionTab value='hk' label='港' />\n          <RegionTab value='tw' label='台' />\n          <RegionTab value='self' label='自訂' onClick={toggleDrawer(true)} />\n        </RegionTabs>\n        <SwipeableDrawer\n          anchor='right'\n          open={open}\n          onClose={toggleDrawer(false)}\n          onOpen={toggleDrawer(true)}\n        >\n          <DictDrawerContent/>\n        </SwipeableDrawer>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    background: '#eee',\n    color: 'black',\n  },\n  toolbar: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  }\n}))\n\nconst RegionTabs = withStyles( (theme) => ({\n  root: {\n    borderBottom: 'none',\n    minHeight: 24\n  },\n  indicator: {\n    backgroundColor: 'transparent'\n  }\n}))(Tabs)\n\nconst RegionTab = withStyles((theme) => ({\n  root: {\n    textTransform: 'none',\n    minWidth: 36,\n    fontWeight: 900,\n    marginRight: theme.spacing(0),\n    fontSize: '15px',\n    opacity: 1,\n    padding: '6px 6px',\n  },\n  selected:{\n    '& > .MuiTab-wrapper':{\n      color: '#3B3C45',\n      backgroundColor: '#dedede'\n    }\n  },\n  wrapper: {\n    color: '#aaa',\n    borderRadius: '30px',\n    padding: '2px 10px 0px 10px'\n  },\n}))((props) => <Tab disableRipple {...props} />);\n\nexport default Header","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport CemendationContext from '../CemendationContext'\n\nconst MainInputBox = () => {\n  const classes = useStyles()\n  const { text, setText } = useContext(CemendationContext)\n  return (\n    <textarea\n      value={text}\n      onChange={e => setText(e.target.value)}\n      className={classes.textarea}\n    />\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  textarea: {\n    width: '90%',\n    height: '100%',\n    [theme.breakpoints.down('md')]: {\n      height: '400px'\n    }\n  }\n}))\n\nexport default MainInputBox","import React, { useState, useContext } from 'react'\nimport {\n  IconButton,\n  Snackbar,\n  Tooltip\n} from '@material-ui/core'\nimport {\n  Create as CreateIcon,\n  FileCopy as FileCopyIcon\n} from '@material-ui/icons'\nimport CemendationContext from '../CemendationContext'\n\nconst MainBtnGroup = () => {\n  const { dictionary: {dict}, text, result, setResult } = useContext(CemendationContext)\n  const convert = () => {\n    const texts = [];\n\n    [...text].forEach ( value => {\n      texts.push({\n        highlighted: null,\n        value: value\n      })\n    })\n\n    dict.forEach((checkPair, pairIdx) => {\n      for (let idx = 0; idx < texts.length; ++idx) {\n        let find = true\n        for ( let j = 0; find && j < checkPair.find.length; ++j )\n          find = find && texts[idx+j] != null && checkPair.find[j] === texts[idx+j].value\n        if ( find ) {\n          texts.splice(idx, checkPair.find.length)\n          for ( let j = 0; j < checkPair.replace.length; ++j )\n            texts.splice(idx+j, 0, {\n              highlighted: pairIdx,\n              value: checkPair.replace[j]\n            })\n        }\n      }\n    })\n\n    let clusters = []\n    let tmpCluster = JSON.parse(JSON.stringify(texts[0] || {}))\n    texts.slice(1).forEach( c => {\n      if ( c.value === \"\\n\" ) {\n        clusters.push(tmpCluster)\n        clusters.push({\n          value: \"\\n\",\n          highlighted: null\n        })\n        tmpCluster = JSON.parse(JSON.stringify({}))\n      } else if ( tmpCluster.highlighted === c.highlighted )\n          tmpCluster.value += c.value\n      else {\n        clusters.push(tmpCluster)\n        tmpCluster = JSON.parse(JSON.stringify(c))\n      }\n    })\n    clusters.push(tmpCluster)\n\n    setResult(JSON.parse(JSON.stringify(clusters)))\n  }\n\n  const [open, setOpen] = useState(false)\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(result.map(v => v.value).join(''))\n    setOpen(true)\n  }\n\n  return (\n    <div>\n      <Tooltip title=\"校對\" aria-label=\"校對\">\n        <IconButton aria-label='校' onClick={convert}><CreateIcon /></IconButton>\n      </Tooltip>\n      <Tooltip title=\"複製校本\" aria-label=\"複製校本\">\n        <IconButton aria-label='複製校本' onClick={copyToClipboard}><FileCopyIcon /></IconButton>\n      </Tooltip>\n      <Snackbar\n        open={open}\n        autoHideDuration={1000}\n        onClose={e => setOpen(false)}\n        message=\"Copied\"\n      />\n    </div>\n  )\n}\n\nexport default MainBtnGroup","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport CemendationContext from '../CemendationContext'\nimport classNames from 'classnames'\n\nconst ResultText = () => {\n  const { result, active, setActive } = useContext( CemendationContext )\n  const classes = useStyles()\n  const handleClick = (idx) => {\n    if ( result[idx].highlighted === null ) return\n    else {\n      setActive(idx === active ? -1 : idx)\n    }\n  }\n\n  return (\n    <div className={classes.resultContainer}>\n      {\n        result.map((cluster, idx) => {\n          if ( cluster.value === \"\\n\" ) return <br />\n          return (\n            <span\n              key={\"span-\"+idx}\n              className={classNames(\n                cluster.highlighted !== null ? classes.highlighted : null,\n                active === idx ? classes.active : null\n              )}\n              onClick={() => handleClick(idx)}\n            >\n              {cluster.value}\n            </span>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  resultContainer: {\n    border: '1px solid black',\n    width: '90%',\n    height: '100%',\n    textAlign: 'left',\n    padding: '2px',\n    font: '400 13.3333px Arial',\n    '& span': {\n      fontFamily: 'monospace'\n    },\n    wordBreak: 'break-word',\n    appearance: 'textarea',\n    [theme.breakpoints.down('md')]: {\n      height: '400px'\n    }\n  },\n  highlighted: {\n    backgroundColor: 'yellow',\n    cursor: 'pointer'\n  },\n  active: {\n    backgroundColor: 'pink !important'\n  }\n}))\n\nexport default ResultText","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport Grid from '@material-ui/core/Grid'\nimport MainInputBox from './components/MainInputBox'\nimport MainBtnGroup from './components/MainBtnGroup'\nimport ResultText from './components/ResultText'\n\nconst MainBody = () => {\n  const classes = useStyles()\n  return (\n    <Grid container className={classes.gridContainer}>\n      <Grid item xs={12} md={5}>\n        <h3>文本</h3>\n        <MainInputBox />\n      </Grid>\n      <Grid item xs={12} md={2}>\n        <MainBtnGroup />\n      </Grid>\n      <Grid item xs={12} md={5}>\n        <h3>校本</h3>\n        <ResultText />\n      </Grid>\n    </Grid>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  gridContainer: {\n    height: '75vh',\n    [theme.breakpoints.down('md')]: {\n      marginBottom: '100px',\n      height: '100%'\n    },\n    \"& .MuiGrid-item\": {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    }\n  }\n}))\n\nexport default MainBody","import React, { useContext } from 'react'\nimport { Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport ForwardIcon from '@material-ui/icons/Forward'\nimport CemendationContext from './CemendationContext'\nimport CookieBanner from 'react-cookie-banner'\n\nconst Footer = () => {\n  const { result, setResult, active, setActive, dictionary: {dict} } = useContext(CemendationContext)\n  const classes = useStyles()\n  const {find, replace, remark} = active === -1 ? {find: '', replace: ''} : dict[result[active].highlighted]\n  const choose = (txt) => {\n    setResult( result.map((v, idx) => ({\n      value: active === idx ? txt : v.value,\n      highlighted: v.highlighted\n    })))\n    setActive(-1)\n  }\n\n  return (\n    <div className={classes.root}>\n      { active === -1 ? <></> : (\n        <div className={classes.showcase}>\n          <Button variant=\"outlined\" onClick={e => choose(find)}>{find}</Button>\n          <div className={classes.changeIcon}><ForwardIcon /></div>\n          <Button variant=\"outlined\" onClick={e => choose(replace)}>{replace}</Button>\n        </div>\n      )}\n      <div className={classes.remark}>{\n        active === -1 ? <></> : (remark)\n      }</div>\n      <div style={{position: 'fixed', bottom: 0}}>\n        <CookieBanner\n          styles={cookieBannerStyles}\n          message=\"為了提升服務質素，我們會使用Cookie或其他類似技術來了解我們的流量和提升㤦用者體驗。\"\n          buttonMessage=\"我明白\"\n          dismissOnScroll={false}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: 0,\n    height: '15vh',\n    width: '100%',\n    backgroundColor: '#eee',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  remark: {\n    color: '#444',\n    marginTop: '10px',\n    fontSize: '0.8em'\n  },\n  showcase: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    fontSize: '1.5em'\n  },\n  changeIcon: {\n    margin: '0 40px',\n    padding: '6px 8px'\n  }\n}))\n\nexport default Footer\n\n\nconst cookieBannerStyles = {\n  banner: {\n    fontFamily: 'Source Sans Pro',\n    height: 57,\n    background: 'rgba(52, 64, 81, 0.88) url(/cookie.png) 20px 50% no-repeat',\n    backgroundSize: '30px 30px',\n    backgroundColor: '',\n    fontSize: '15px',\n    fontWeight: 600\n  },\n  button: {\n    border: '1px solid white',\n    borderRadius: 4,\n    width: 66,\n    height: 32,\n    lineHeight: '32px',\n    background: 'transparent',\n    color: 'white',\n    fontSize: '14px',\n    fontWeight: 600,\n    opacity: 1,\n    right: 20,\n    marginTop: -18\n  },\n  message: {\n    display: 'block',\n    padding: '9px 9px',\n    lineHeight: 1.3,\n    textAlign: 'left',\n    width: '70%',\n    fontSize: '0.8em',\n    color: 'white'\n  },\n  link: {\n    textDecoration: 'none',\n    fontWeight: 'bold'\n  },\n}","import React from 'react'\nimport './App.css'\nimport Header from './Header'\nimport MainBody from './MainBody'\nimport Footer from './Footer'\nimport {\n  unstable_createMuiStrictModeTheme as createMuiTheme,\n  ThemeProvider\n} from '@material-ui/core/styles'\n\nconst theme = createMuiTheme()\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <Header />\n        <MainBody />\n        <Footer />\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { CemendationContextProvider } from './CemendationContext';\nimport ReactGA from 'react-ga'\n\nReactGA.initialize('UA-76645629-1')\nReactGA.pageview(window.location.pathname+window.location.search)\n\nReactDOM.render(\n  <React.StrictMode>\n    <CemendationContextProvider>\n      <App />\n    </CemendationContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}