{"version":3,"sources":["CemendationContext.js","components/DictDrawerContent.js","Header.js","components/MainInputBox.js","components/MainBtnGroup.js","components/ResultText.js","MainBody.js","Footer.js","App.js","reportWebVitals.js","index.js"],"names":["CemendationContext","React","createContext","CemendationContextProvider","props","useState","version","dict","dictionary","setDictionary","text","setText","rawDict","setRawDict","result","setResult","active","setActive","useEffect","length","setVersion","setDict","lines","split","forEach","line","find","replace","remark","push","fetch","then","res","Provider","value","children","useStyles","makeStyles","theme","drawerContainer","minWidth","width","padding","textarea","height","DictDrawerContent","classes","useContext","useFilePicker","accept","multiple","fileContent","openFileSelector","loading","content","Container","className","LinearProgress","onChange","e","target","placeholder","Button","variant","onClick","root","flexGrow","background","color","toolbar","display","flexDirection","justifyContent","alignItems","menuButton","marginRight","spacing","title","RegionTabs","withStyles","borderBottom","minHeight","indicator","backgroundColor","Tabs","RegionTab","textTransform","fontWeight","fontSize","opacity","selected","wrapper","borderRadius","Tab","disableRipple","Header","open","setOpen","toggleDrawer","event","type","key","AppBar","position","Toolbar","Typography","v","label","SwipeableDrawer","anchor","onClose","onOpen","breakpoints","down","MainInputBox","MainBtnGroup","Tooltip","aria-label","IconButton","texts","highlighted","checkPair","pairIdx","idx","j","splice","clusters","tmpCluster","JSON","parse","stringify","slice","c","Create","navigator","clipboard","writeText","map","join","FileCopy","Snackbar","autoHideDuration","message","resultContainer","border","textAlign","font","fontFamily","wordBreak","appearance","cursor","ResultText","cluster","classNames","handleClick","gridContainer","marginBottom","MainBody","Grid","container","item","xs","md","bottom","marginTop","showcase","changeIcon","margin","Footer","choose","txt","style","styles","cookieBannerStyles","buttonMessage","dismissOnScroll","banner","backgroundSize","button","lineHeight","right","link","textDecoration","createMuiTheme","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactGA","initialize","pageview","window","location","pathname","search","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcd6a34b.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\"\n\nconst CemendationContext = React.createContext()\n\nexport const CemendationContextProvider = (props) => {\n  const [dictionary, setDictionary] = useState({version: \"hk\", dict: []})\n  const [text, setText] = useState(\"\")\n  const [rawDict, setRawDict] = useState(\"\")\n  const [result, setResult] = useState([])\n  const [active, setActive] = useState(-1)\n\n  useEffect(() => {\n    if ( dictionary.dict.length === 0 )\n      setVersion(dictionary.version)\n  }, [dictionary.version])\n\n  const setDict = ( rawDict, version ) => {\n    setRawDict(rawDict)\n    const lines = rawDict.split(\"\\n\")\n    const dict = []\n    lines.forEach ( line => {\n      if ( line === '' ) return\n      const [find, replace, remark] = line.split('|')\n      dict.push( {find, replace, remark} )\n    })\n    setDictionary({dict, version})\n  }\n\n  const setVersion = ( version ) => {\n    if ( version === 'self' && version === dictionary.version ) return\n    if ( version !== 'hk' ) version = \"hk\" // TODO: Add other vocab\n    fetch(`${version}-list.txt`)\n      .then(res => res.text())\n      .then(\n        (result) => {\n          setDict(result, version)\n        }\n      )\n  }\n\n  return (\n    <CemendationContext.Provider value={\n      {dictionary, setVersion, text, setText, result, setResult, active, setActive, rawDict, setDict}\n    }>\n      {props.children}\n    </CemendationContext.Provider>\n  )\n}\n\nexport default CemendationContext\n","import React, { useContext, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  Button,\n  Container,\n  LinearProgress\n} from '@material-ui/core'\nimport { useFilePicker } from 'use-file-picker'\nimport CemendationContext from '../CemendationContext'\n\nconst DictDrawerContent = () => {\n  const classes = useStyles()\n  const {rawDict, setDict} = useContext (CemendationContext)\n  const [fileContent, errors, openFileSelector, loading] = useFilePicker({\n    accept: ['.txt'],\n    multiple: false\n  })\n\n  useEffect (() => {\n    if ( fileContent[0] ) {\n      setDict(fileContent[0].content, 'self')\n    }\n  }, [fileContent])\n\n  return (\n    <Container className={classes.drawerContainer}>\n      <h3>字表：</h3>\n      <div>\n        {loading ? <LinearProgress /> : null}\n        <textarea\n          value={rawDict}\n          onChange={e => setDict(e.target.value, 'self')}\n          className={classes.textarea}\n          placeholder={\"用法：\\n一行行輸入要編校的詞語、置換成的詞語及簡單備考\\n分別以「|」( Shift + \\\\ ) 分隔\\n\\n例子：\\n滄海一栗|滄海一粟|大海裏的一粒穀子。比喻非常渺小\"}\n        />\n      </div>\n      <Button variant='contained' onClick={openFileSelector}>上傳檔案</Button>\n    </Container>\n  )\n}\n\nconst useStyles = makeStyles(theme => ({\n  drawerContainer: {\n    minWidth: '200px',\n    width: '40vw',\n    padding: '0 5%'\n  },\n  textarea: {\n    width: '99%',\n    height: '80vh'\n  }\n}))\n\nexport default DictDrawerContent","import React, { useState, useContext } from 'react'\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\nimport {\n  AppBar,\n  SwipeableDrawer,\n  Tab,\n  Tabs,\n  Toolbar,\n  Typography\n} from '@material-ui/core'\nimport CemendationContext from './CemendationContext'\nimport DictDrawerContent from './components/DictDrawerContent'\n\nconst Header = () => {\n  const classes = useStyles()\n  const { dictionary: { version }, setVersion } = useContext(CemendationContext)\n  const [open, setOpen] = useState(false)\n  const toggleDrawer = ( open ) => ( event ) => {\n    if ( event && event.type === 'keydown' && ( event.key === 'Tab' || event.key === 'Shift' )) {\n      return\n    }\n    setOpen(open)\n  }\n\n  return (\n    <AppBar position=\"sticky\" className={classes.root}>\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.title}>\n          校讎足下\n        </Typography>\n        <RegionTabs onChange={(e, v) => setVersion(v)} value={version}>\n          <RegionTab value='hk' label='港' />\n          <RegionTab value='tw' label='台' />\n          <RegionTab value='self' label='自訂' onClick={toggleDrawer(true)} />\n        </RegionTabs>\n        <SwipeableDrawer\n          anchor='right'\n          open={open}\n          onClose={toggleDrawer(false)}\n          onOpen={toggleDrawer(true)}\n        >\n          <DictDrawerContent/>\n        </SwipeableDrawer>\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    background: '#eee',\n    color: 'black',\n  },\n  toolbar: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  }\n}))\n\nconst RegionTabs = withStyles( (theme) => ({\n  root: {\n    borderBottom: 'none',\n    minHeight: 24\n  },\n  indicator: {\n    backgroundColor: 'transparent'\n  }\n}))(Tabs)\n\nconst RegionTab = withStyles((theme) => ({\n  root: {\n    textTransform: 'none',\n    minWidth: 36,\n    fontWeight: 900,\n    marginRight: theme.spacing(0),\n    fontSize: '15px',\n    opacity: 1,\n    padding: '6px 6px',\n  },\n  selected:{\n    '& > .MuiTab-wrapper':{\n      color: '#3B3C45',\n      backgroundColor: '#dedede'\n    }\n  },\n  wrapper: {\n    color: '#aaa',\n    borderRadius: '30px',\n    padding: '2px 10px 0px 10px'\n  },\n}))((props) => <Tab disableRipple {...props} />);\n\nexport default Header","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport CemendationContext from '../CemendationContext'\n\nconst MainInputBox = () => {\n  const classes = useStyles()\n  const { text, setText } = useContext(CemendationContext)\n  return (\n    <textarea\n      value={text}\n      onChange={e => setText(e.target.value)}\n      className={classes.textarea}\n    />\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  textarea: {\n    width: '90%',\n    height: '100%',\n    [theme.breakpoints.down('md')]: {\n      height: '400px'\n    }\n  }\n}))\n\nexport default MainInputBox","import React, { useState, useContext } from 'react'\nimport {\n  IconButton,\n  Snackbar,\n  Tooltip\n} from '@material-ui/core'\nimport {\n  Create as CreateIcon,\n  FileCopy as FileCopyIcon\n} from '@material-ui/icons'\nimport CemendationContext from '../CemendationContext'\n\nconst MainBtnGroup = () => {\n  const { dictionary: {dict}, text, result, setResult } = useContext(CemendationContext)\n  const convert = () => {\n    const texts = [];\n\n    [...text].forEach ( value => {\n      texts.push({\n        highlighted: null,\n        value: value\n      })\n    })\n\n    dict.forEach((checkPair, pairIdx) => {\n      for (let idx = 0; idx < texts.length; ++idx) {\n        let find = true\n        for ( let j = 0; find && j < checkPair.find.length; ++j )\n          find = find && texts[idx+j] != null && checkPair.find[j] === texts[idx+j].value\n        if ( find ) {\n          texts.splice(idx, checkPair.find.length)\n          for ( let j = 0; j < checkPair.replace.length; ++j )\n            texts.splice(idx+j, 0, {\n              highlighted: pairIdx,\n              value: checkPair.replace[j]\n            })\n        }\n      }\n    })\n\n    let clusters = []\n    let tmpCluster = JSON.parse(JSON.stringify(texts[0] || {}))\n    texts.slice(1).forEach( c => {\n      if ( c.value === \"\\n\" ) {\n        clusters.push(tmpCluster)\n        clusters.push({\n          value: \"\\n\",\n          highlighted: null\n        })\n        tmpCluster = JSON.parse(JSON.stringify({}))\n      } else if ( tmpCluster.highlighted === c.highlighted )\n          tmpCluster.value += c.value\n      else {\n        clusters.push(tmpCluster)\n        tmpCluster = JSON.parse(JSON.stringify(c))\n      }\n    })\n    clusters.push(tmpCluster)\n\n    setResult(JSON.parse(JSON.stringify(clusters)))\n  }\n\n  const [open, setOpen] = useState(false)\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(result.map(v => v.value).join(''))\n    setOpen(true)\n  }\n\n  return (\n    <div>\n      <Tooltip title=\"校對\" aria-label=\"校對\">\n        <IconButton aria-label='校' onClick={convert}><CreateIcon /></IconButton>\n      </Tooltip>\n      <Tooltip title=\"複製校本\" aria-label=\"複製校本\">\n        <IconButton aria-label='複製校本' onClick={copyToClipboard}><FileCopyIcon /></IconButton>\n      </Tooltip>\n      <Snackbar\n        open={open}\n        autoHideDuration={1000}\n        onClose={e => setOpen(false)}\n        message=\"Copied\"\n      />\n    </div>\n  )\n}\n\nexport default MainBtnGroup","import React, { useContext } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport CemendationContext from '../CemendationContext'\nimport classNames from 'classnames'\n\nconst ResultText = () => {\n  const { result, active, setActive } = useContext( CemendationContext )\n  const classes = useStyles()\n  const handleClick = (idx) => {\n    if ( result[idx].highlighted === null ) return\n    else {\n      setActive(idx === active ? -1 : idx)\n    }\n  }\n\n  return (\n    <div className={classes.resultContainer}>\n      {\n        result.map((cluster, idx) => {\n          if ( cluster.value === \"\\n\" ) return <br />\n          return (\n            <span\n              key={\"span-\"+idx}\n              className={classNames(\n                cluster.highlighted !== null ? classes.highlighted : null,\n                active === idx ? classes.active : null\n              )}\n              onClick={() => handleClick(idx)}\n            >\n              {cluster.value}\n            </span>\n          )\n        })\n      }\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  resultContainer: {\n    border: '1px solid black',\n    width: '90%',\n    height: '100%',\n    textAlign: 'left',\n    padding: '2px',\n    font: '400 13.3333px Arial',\n    '& span': {\n      fontFamily: 'monospace'\n    },\n    wordBreak: 'break-word',\n    appearance: 'textarea',\n    [theme.breakpoints.down('md')]: {\n      height: '400px'\n    }\n  },\n  highlighted: {\n    backgroundColor: 'yellow',\n    cursor: 'pointer'\n  },\n  active: {\n    backgroundColor: 'pink !important'\n  }\n}))\n\nexport default ResultText","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport Grid from '@material-ui/core/Grid'\nimport MainInputBox from './components/MainInputBox'\nimport MainBtnGroup from './components/MainBtnGroup'\nimport ResultText from './components/ResultText'\n\nconst MainBody = () => {\n  const classes = useStyles()\n  return (\n    <Grid container className={classes.gridContainer}>\n      <Grid item xs={12} md={5}>\n        <h3>文本</h3>\n        <MainInputBox />\n      </Grid>\n      <Grid item xs={12} md={2}>\n        <MainBtnGroup />\n      </Grid>\n      <Grid item xs={12} md={5}>\n        <h3>校本</h3>\n        <ResultText />\n      </Grid>\n    </Grid>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  gridContainer: {\n    height: '75vh',\n    [theme.breakpoints.down('md')]: {\n      marginBottom: '100px',\n      height: '100%'\n    },\n    \"& .MuiGrid-item\": {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    }\n  }\n}))\n\nexport default MainBody","import React, { useContext } from 'react'\nimport { Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport ForwardIcon from '@material-ui/icons/Forward'\nimport CemendationContext from './CemendationContext'\nimport CookieBanner from 'react-cookie-banner'\n\nconst Footer = () => {\n  const { result, setResult, active, setActive, dictionary: {dict} } = useContext(CemendationContext)\n  const classes = useStyles()\n  const {find, replace, remark} = active === -1 ? {find: '', replace: ''} : dict[result[active].highlighted]\n  const choose = (txt) => {\n    setResult( result.map((v, idx) => ({\n      value: active === idx ? txt : v.value,\n      highlighted: v.highlighted\n    })))\n    setActive(-1)\n  }\n\n  return (\n    <div className={classes.root}>\n      { active === -1 ? <></> : (\n        <div className={classes.showcase}>\n          <Button variant=\"outlined\" onClick={e => choose(find)}>{find}</Button>\n          <div className={classes.changeIcon}><ForwardIcon /></div>\n          <Button variant=\"outlined\" onClick={e => choose(replace)}>{replace}</Button>\n        </div>\n      )}\n      <div className={classes.remark}>{\n        active === -1 ? <></> : (remark)\n      }</div>\n      <div style={{position: 'fixed', bottom: 0}}>\n        <CookieBanner\n          styles={cookieBannerStyles}\n          message=\"為了提升服務質素，我們會使用Cookie或其他類似技術來了解我們的流量和提升㤦用者體驗。\"\n          buttonMessage=\"我明白\"\n          dismissOnScroll={false}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    bottom: 0,\n    height: '15vh',\n    width: '100%',\n    backgroundColor: '#eee',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'column'\n  },\n  remark: {\n    color: '#444',\n    marginTop: '10px',\n    fontSize: '0.8em'\n  },\n  showcase: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    fontSize: '1.5em'\n  },\n  changeIcon: {\n    margin: '0 40px',\n    padding: '6px 8px'\n  }\n}))\n\nexport default Footer\n\n\nconst cookieBannerStyles = {\n  banner: {\n    fontFamily: 'Source Sans Pro',\n    height: 57,\n    background: 'rgba(52, 64, 81, 0.88) url(/cookie.png) 20px 50% no-repeat',\n    backgroundSize: '30px 30px',\n    backgroundColor: '',\n    fontSize: '15px',\n    fontWeight: 600\n  },\n  button: {\n    border: '1px solid white',\n    borderRadius: 4,\n    width: 66,\n    height: 32,\n    lineHeight: '32px',\n    background: 'transparent',\n    color: 'white',\n    fontSize: '14px',\n    fontWeight: 600,\n    opacity: 1,\n    right: 20,\n    marginTop: -18\n  },\n  message: {\n    display: 'block',\n    padding: '9px 9px',\n    lineHeight: 1.3,\n    textAlign: 'left',\n    width: '70%',\n    fontSize: '0.8em',\n    color: 'white'\n  },\n  link: {\n    textDecoration: 'none',\n    fontWeight: 'bold'\n  },\n}","import React from 'react'\nimport './App.css'\nimport Header from './Header'\nimport MainBody from './MainBody'\nimport Footer from './Footer'\nimport {\n  unstable_createMuiStrictModeTheme as createMuiTheme,\n  ThemeProvider\n} from '@material-ui/core/styles'\n\nconst theme = createMuiTheme()\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"App\">\n        <Header />\n        <MainBody />\n        <Footer />\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { CemendationContextProvider } from './CemendationContext';\nimport ReactGA from 'react-ga'\n\nReactGA.initialize('UA-76645629-1')\nReactGA.pageview(window.location.pathname+window.location.search)\n\nReactDOM.render(\n  <React.StrictMode>\n    <CemendationContextProvider>\n      <App />\n    </CemendationContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}